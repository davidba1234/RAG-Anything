# RAG-Anything ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
2. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
3. [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
4. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
5. [è¯¦ç»†ä½¿ç”¨](#è¯¦ç»†ä½¿ç”¨)
6. [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
8. [ç¤ºä¾‹ä»£ç ](#ç¤ºä¾‹ä»£ç )

## ğŸ¯ é¡¹ç›®ç®€ä»‹

RAG-Anything æ˜¯ä¸€ä¸ªåŸºäº LightRAG çš„å¤šæ¨¡æ€æ–‡æ¡£å¤„ç† RAG ç³»ç»Ÿï¼Œå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š

- **ğŸ”„ ç«¯åˆ°ç«¯å¤„ç†æµæ°´çº¿**ï¼šä»æ–‡æ¡£è§£æåˆ°çŸ¥è¯†å›¾è°±æ„å»ºçš„å®Œæ•´æµç¨‹
- **ğŸ“„ å¤šæ ¼å¼æ”¯æŒ**ï¼šPDFã€Wordã€PowerPointã€å›¾ç‰‡ã€æ–‡æœ¬ç­‰å¤šç§æ ¼å¼
- **ğŸ§  æ™ºèƒ½è§£æ**ï¼šä½¿ç”¨ MinerU å’Œ Docling è¿›è¡Œé«˜è´¨é‡æ–‡æ¡£è§£æ
- **ğŸ” å¤šæ¨¡æ€æŸ¥è¯¢**ï¼šæ”¯æŒæ–‡æœ¬å’Œå›¾åƒçš„æ··åˆæŸ¥è¯¢
- **ğŸ“Š çŸ¥è¯†å›¾è°±**ï¼šè‡ªåŠ¨æ„å»ºå’Œç»´æŠ¤çŸ¥è¯†å›¾è°±ä»¥å¢å¼ºæ£€ç´¢æ•ˆæœ

## ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡

### ç³»ç»Ÿè¦æ±‚

- Python 3.8+
- macOS / Linux / Windows
- è‡³å°‘ 4GB å¯ç”¨å†…å­˜
- ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆç”¨äºä¸‹è½½æ¨¡å‹å’Œ API è°ƒç”¨ï¼‰

### API å¯†é’¥å‡†å¤‡

#### é€‰æ‹© API ä¾›åº”å•†

RAG-Anything æ”¯æŒå¤šç§ API ä¾›åº”å•†ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ï¼š

**æ¨èä¾›åº”å•†ï¼š**
- **DeepSeek** â­ - æ€§ä»·æ¯”æœ€é«˜ï¼Œä¸­æ–‡èƒ½åŠ›å¼º
- **OpenAI** - æœ€æ–°æ¨¡å‹ï¼Œç¨³å®šå¯é 
- **SiliconFlow** - å¼€æºæ¨¡å‹ï¼Œä»·æ ¼ä¾¿å®œ
- **Kimi** - è¶…é•¿ä¸Šä¸‹æ–‡ï¼Œé€‚åˆé•¿æ–‡æ¡£
- **æ™ºè°±AI** - å›½äº§ä¼˜ç§€æ¨¡å‹
- **é€šä¹‰åƒé—®** - é˜¿é‡Œäº‘ä¼ä¸šçº§æœåŠ¡

è¯¦ç»†é…ç½®è¯·å‚è€ƒï¼š[APIä¾›åº”å•†é…ç½®æŒ‡å—.md](./APIä¾›åº”å•†é…ç½®æŒ‡å—.md)

#### è·å– API å¯†é’¥

æ ¹æ®é€‰æ‹©çš„ä¾›åº”å•†è·å–å¯¹åº”çš„ API Keyï¼š

1. **DeepSeek**ï¼ˆæ¨èï¼‰
   - è®¿é—® [DeepSeek Platform](https://platform.deepseek.com/)
   - æ³¨å†Œè´¦å·å¹¶è·å– API Key
   - æ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦

2. **OpenAI**
   - è®¿é—® [OpenAI Platform](https://platform.openai.com/)
   - åˆ›å»ºè´¦æˆ·å¹¶è·å– API å¯†é’¥

3. **å…¶ä»–ä¾›åº”å•†**
   - å‚è€ƒ [APIä¾›åº”å•†é…ç½®æŒ‡å—.md](./APIä¾›åº”å•†é…ç½®æŒ‡å—.md) è·å–è¯¦ç»†ä¿¡æ¯

## ğŸ“¦ å®‰è£…æ­¥éª¤

### æ­¥éª¤ 1ï¼šå…‹éš†é¡¹ç›®ï¼ˆå¦‚æœä»æºç å®‰è£…ï¼‰

```bash
git clone https://github.com/HKUDS/RAG-Anything.git
cd RAG-Anything
```

### æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–

#### é€‰é¡¹ Aï¼šä» PyPI å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# åŸºç¡€å®‰è£…
pip install raganything

# å®Œæ•´å®‰è£…ï¼ˆåŒ…å«æ‰€æœ‰å¯é€‰åŠŸèƒ½ï¼‰
pip install 'raganything[all]'

# æŒ‰éœ€å®‰è£…
pip install 'raganything[image]'      # å›¾åƒæ ¼å¼æ”¯æŒ
pip install 'raganything[text]'       # æ–‡æœ¬æ–‡ä»¶å¤„ç†
pip install 'raganything[image,text]' # å¤šä¸ªåŠŸèƒ½
```

#### é€‰é¡¹ Bï¼šä»æºç å®‰è£…

```bash
pip install -e .
# æˆ–è€…åŒ…å«å¯é€‰ä¾èµ–
pip install -e '.[all]'
```

### æ­¥éª¤ 3ï¼šå®‰è£… LibreOfficeï¼ˆå¤„ç† Office æ–‡æ¡£ï¼‰

```bash
# macOS
brew install --cask libreoffice

# Ubuntu/Debian
sudo apt-get install libreoffice

# CentOS/RHEL
sudo yum install libreoffice

# Windows
# ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼šhttps://www.libreoffice.org/download/download/
```

### æ­¥éª¤ 4ï¼šéªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ RAGAnything
python -c "from raganything import RAGAnything; print('âœ… RAGAnything å®‰è£…æˆåŠŸ')"

# æ£€æŸ¥ MinerU
mineru --version
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1ï¼šé…ç½®ç¯å¢ƒå˜é‡

é¡¹ç›®å·²ä¸ºä½ åˆ›å»ºäº† `.env` æ–‡ä»¶æ¨¡æ¿ï¼Œè¯·ç¼–è¾‘å…¶ä¸­çš„é…ç½®ï¼š

```bash
# ç¼–è¾‘ .env æ–‡ä»¶
vim .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

**å¿…éœ€é…ç½®ï¼š**

```env
# OpenAI API é…ç½®
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
```

### æ­¥éª¤ 2ï¼šè¿è¡Œå¿«é€Ÿå…¥é—¨ç¤ºä¾‹

```bash
python quick_start.py
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. æ£€æŸ¥ä½ çš„ç¯å¢ƒé…ç½®
2. åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æ–‡æ¡£ï¼ˆå¦‚æœæ²¡æœ‰æµ‹è¯•æ–‡æ¡£ï¼‰
3. æ¼”ç¤ºæ–‡æ¡£å¤„ç†å’ŒæŸ¥è¯¢æµç¨‹

### æ­¥éª¤ 3ï¼šå°è¯•è‡ªå·±çš„æ–‡æ¡£

å°†ä½ çš„æ–‡æ¡£ï¼ˆPDFã€Wordã€PowerPoint ç­‰ï¼‰æ”¾åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼Œç„¶åé‡æ–°è¿è¡Œå¿«é€Ÿå…¥é—¨è„šæœ¬ã€‚

## ğŸ“– è¯¦ç»†ä½¿ç”¨

### åŸºæœ¬ä½¿ç”¨æµç¨‹

```python
import asyncio
from raganything import RAGAnything, RAGAnythingConfig
from lightrag.llm.openai import openai_complete_if_cache, openai_embed
from lightrag.utils import EmbeddingFunc

async def main():
    # 1. åˆ›å»ºé…ç½®
    config = RAGAnythingConfig(
        working_dir="./rag_storage",
        parser="mineru",  # æˆ– "docling"
        parse_method="auto",  # "auto", "ocr", "txt"
        enable_image_processing=True,
        enable_table_processing=True,
        enable_equation_processing=True,
    )
    
    # 2. å®šä¹‰æ¨¡å‹å‡½æ•°
    def llm_model_func(prompt, **kwargs):
        return openai_complete_if_cache(
            "gpt-4o-mini", prompt, api_key="your-api-key", **kwargs
        )
    
    def vision_model_func(prompt, **kwargs):
        return openai_complete_if_cache(
            "gpt-4o", prompt, api_key="your-api-key", **kwargs
        )
    
    embedding_func = EmbeddingFunc(
        embedding_dim=3072,
        max_token_size=8192,
        func=lambda texts: openai_embed(
            texts, model="text-embedding-3-large", api_key="your-api-key"
        ),
    )
    
    # 3. åˆå§‹åŒ– RAGAnything
    rag = RAGAnything(
        config=config,
        llm_model_func=llm_model_func,
        vision_model_func=vision_model_func,
        embedding_func=embedding_func,
    )
    
    # 4. å¤„ç†æ–‡æ¡£
    await rag.process_document_complete(
        file_path="path/to/your/document.pdf",
        output_dir="./output",
        parse_method="auto"
    )
    
    # 5. æŸ¥è¯¢
    result = await rag.aquery(
        query="æ–‡æ¡£çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ",
        mode="hybrid"  # "naive", "local", "global", "hybrid"
    )
    print(result)

asyncio.run(main())
```

### é…ç½®é€‰é¡¹è¯¦è§£

#### RAGAnythingConfig å‚æ•°

- `working_dir`: RAG å­˜å‚¨ç›®å½•
- `parser`: è§£æå™¨é€‰æ‹©ï¼ˆ"mineru" æˆ– "docling"ï¼‰
- `parse_method`: è§£ææ–¹æ³•ï¼ˆ"auto", "ocr", "txt"ï¼‰
- `enable_image_processing`: æ˜¯å¦å¯ç”¨å›¾åƒå¤„ç†
- `enable_table_processing`: æ˜¯å¦å¯ç”¨è¡¨æ ¼å¤„ç†
- `enable_equation_processing`: æ˜¯å¦å¯ç”¨å…¬å¼å¤„ç†

#### æŸ¥è¯¢æ¨¡å¼

- `naive`: ç®€å•å‘é‡æ£€ç´¢
- `local`: å±€éƒ¨å›¾è°±æ£€ç´¢
- `global`: å…¨å±€å›¾è°±æ£€ç´¢
- `hybrid`: æ··åˆæ£€ç´¢ï¼ˆæ¨èï¼‰

## ğŸ”¥ é«˜çº§åŠŸèƒ½

### 1. æ‰¹å¤„ç†

```python
# æŸ¥çœ‹ examples/batch_processing_example.py
await rag.batch_process_documents(
    file_paths=["doc1.pdf", "doc2.docx", "doc3.pptx"],
    output_dir="./batch_output",
    batch_size=5,
    concurrency=3
)
```

### 2. å¤šæ¨¡æ€æŸ¥è¯¢

```python
# æŸ¥çœ‹ examples/modalprocessors_example.py
result = await rag.aquery_with_multimodal(
    query="è§£é‡Šè¿™ä¸ªå›¾è¡¨çš„å«ä¹‰",
    multimodal_content={
        "images": ["chart.png"],
        "tables": ["data.csv"]
    }
)
```

### 3. è‡ªå®šä¹‰å¤„ç†å™¨

```python
# æŸ¥çœ‹ examples/enhanced_markdown_example.py
from raganything.processors import CustomProcessor

class MyProcessor(CustomProcessor):
    def process(self, content):
        # è‡ªå®šä¹‰å¤„ç†é€»è¾‘
        return processed_content
```

## â“ å¸¸è§é—®é¢˜

### Q1: å®‰è£…æ—¶å‡ºç°ä¾èµ–å†²çªæ€ä¹ˆåŠï¼Ÿ

**A:** è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼ŒPython ç”Ÿæ€ç³»ç»Ÿä¸­çš„ä¾èµ–å†²çªå¾ˆå¸¸è§ã€‚åªè¦æ ¸å¿ƒåŠŸèƒ½èƒ½æ­£å¸¸ä½¿ç”¨å³å¯ã€‚å¦‚æœé‡åˆ°ä¸¥é‡é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼š

```bash
python -m venv rag_env
source rag_env/bin/activate  # Linux/macOS
# æˆ– rag_env\Scripts\activate  # Windows
pip install 'raganything[all]'
```

### Q2: API è°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. API å¯†é’¥æ˜¯å¦æ­£ç¡®
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. API é…é¢æ˜¯å¦å……è¶³
4. Base URL æ˜¯å¦æ­£ç¡®

### Q3: æ–‡æ¡£è§£æå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š
1. ç¡®è®¤æ–‡æ¡£æ ¼å¼æ˜¯å¦æ”¯æŒ
2. æ£€æŸ¥æ–‡æ¡£æ˜¯å¦æŸå
3. å°è¯•ä¸åŒçš„è§£ææ–¹æ³•ï¼ˆauto/ocr/txtï¼‰
4. ç¡®è®¤ LibreOffice å·²æ­£ç¡®å®‰è£…

### Q4: å†…å­˜ä¸è¶³æ€ä¹ˆåŠï¼Ÿ

**A:** 
1. å‡å°‘æ‰¹å¤„ç†å¤§å°
2. é™ä½å¹¶å‘æ•°
3. åˆ†æ‰¹å¤„ç†å¤§æ–‡æ¡£
4. å¢åŠ ç³»ç»Ÿå†…å­˜

### Q5: å¦‚ä½•å¤„ç†ä¸­æ–‡æ–‡æ¡£ï¼Ÿ

**A:** RAG-Anything åŸç”Ÿæ”¯æŒä¸­æ–‡ï¼Œç¡®ä¿ï¼š
1. æ–‡æ¡£ç¼–ç æ­£ç¡®
2. ä½¿ç”¨æ”¯æŒä¸­æ–‡çš„æ¨¡å‹
3. ç³»ç»Ÿå­—ä½“æ”¯æŒä¸­æ–‡æ˜¾ç¤º

## ğŸ“š ç¤ºä¾‹ä»£ç 

é¡¹ç›®æä¾›äº†ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ï¼Œä½äº `examples/` ç›®å½•ï¼š

- `raganything_example.py`: åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
- `batch_processing_example.py`: æ‰¹å¤„ç†ç¤ºä¾‹
- `modalprocessors_example.py`: å¤šæ¨¡æ€å¤„ç†ç¤ºä¾‹
- `enhanced_markdown_example.py`: å¢å¼º Markdown å¤„ç†
- `insert_content_list_example.py`: å†…å®¹åˆ—è¡¨æ’å…¥ç¤ºä¾‹

### è¿è¡Œç¤ºä¾‹

```bash
# è¿è¡ŒåŸºç¡€ç¤ºä¾‹
python examples/raganything_example.py --file_path your_document.pdf

# è¿è¡Œæ‰¹å¤„ç†ç¤ºä¾‹
python examples/batch_processing_example.py

# è¿è¡Œå¤šæ¨¡æ€ç¤ºä¾‹
python examples/modalprocessors_example.py
```

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **æ¢ç´¢æ›´å¤šåŠŸèƒ½**ï¼šæŸ¥çœ‹ `examples/` ç›®å½•ä¸­çš„ç¤ºä¾‹
2. **è‡ªå®šä¹‰é…ç½®**ï¼šæ ¹æ®éœ€æ±‚è°ƒæ•´ `.env` æ–‡ä»¶
3. **é›†æˆåˆ°é¡¹ç›®**ï¼šå°† RAG-Anything é›†æˆåˆ°ä½ çš„åº”ç”¨ä¸­
4. **è´¡çŒ®ä»£ç **ï¼šå‚ä¸å¼€æºé¡¹ç›®å¼€å‘

## ğŸ“ è·å–å¸®åŠ©

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/HKUDS/RAG-Anything/issues)
- **æ–‡æ¡£**: [æŸ¥çœ‹å®Œæ•´æ–‡æ¡£](https://github.com/HKUDS/RAG-Anything)
- **ç¤ºä¾‹**: å‚è€ƒ `examples/` ç›®å½•

---

ğŸ‰ **æ­å–œï¼ä½ å·²ç»æŒæ¡äº† RAG-Anything çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚å¼€å§‹ä½ çš„å¤šæ¨¡æ€ RAG ä¹‹æ—…å§ï¼**